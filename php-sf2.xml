<?xml version='1.0' encoding='utf-8'?>
<snippets language="php">
  <snippet>
    <text><![CDATA[<?php

namespace ${1:projectName}\\${2:bundleName}Bundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Symfony\Component\HttpFoundation\Response;

class ${3:controllerName}Controller extends Controller
{
	${0:# code...}
}]]></text>
    <tag>sfctrl</tag>
    <description>sf2 - basic controller</description>
  </snippet>
  <snippet>
    <text><![CDATA[public function ${1:functionName}Action () {
	${0: #code...}
}]]></text>
    <tag>sfact</tag>
    <description>sf2 - controller action</description>
  </snippet>
  <snippet>
    <text><![CDATA[$em = $this->getDoctrine()->getEntityManager();]]></text>
    <tag>sfemc</tag>
    <description>sf2 - entity manager controller</description>
  </snippet>
  <snippet>
    <text><![CDATA[public function ${1:functionName}Action()
{
	// obtiene petición
	$peticion = $this->getRequest();
		      
	// crea objeto a relacionar con formulario
	$usuario = new ${2:bindObject}();

	// crea formulario
	$formulario = $this->createForm(new ${3:formType}Type(), ${2:bindObject});

	// verifica método de llamada
	if ('POST' == $peticion->getMethod()) {
		  // bindea los datos de la petición
		  $formulario->bindRequest($peticion);
		  
		  // valida formulario
		  if ($formulario->isValid()) {
		     
		     # code (IS VALID) here...
		     
		     // redirecciona
		     return $this->redirect($this->generateUrl('${4:routeName}', array(${5:arrayContent})));
		  }
		  
	}
	
	# code (IS NOT POST) here...
	
  return $this->render('${6:bundleName}Bundle:${7:controllerName}:${8:twigFile}.html.twig',
  	array('formulario' => $formulario->createView())
	);

}]]></text>
    <tag>sffrmact</tag>
    <description>sf2 - form action</description>
  </snippet>
</snippets>
